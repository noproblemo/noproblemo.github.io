<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta property="fb:app_id" content="1557871931194431" />
    <title>{{ page.title }}</title>
    {% if page.description %}
    <meta name="description" content="{{ page.description }}">{% endif %}
    <meta name="author" content="{{ site.author.name }}">
    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro:500,400,700' rel='stylesheet' type='text/css'>
    <!-- Enable responsive viewport -->
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/themes/bootstrap-3/css/core.pkg.css" />
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/themes/bootstrap-3/css/differential.pkg.css" />
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/themes/bootstrap-3/css/phui-badge.css" />
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/themes/bootstrap-3/css/phui-document.css" />
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/themes/bootstrap-3/css/phui-document-pro.css" />
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/themes/bootstrap-3/css/phame.css" />
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/themes/bootstrap-3/css/phui-fontkit.css" />
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/themes/bootstrap-3/css/font-aleo.css" />
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/themes/bootstrap-3/css/phui-theme.css" />
    <link rel="stylesheet" type="text/css" href="{{ site.url }}/assets/themes/bootstrap-3/css/custom.css" />
    <link rel="stylesheet" href="/css/pygments/default.css">    
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <!-- Fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->
    <!-- atom & rss feed -->
    <link href="{{ BASE_PATH }}{{ site.JB.atom_path }}" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="{{ BASE_PATH }}{{ site.JB.rss_path }}" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">
</head>

<body class="phui-theme-blindigo">
    <div id="fb-root"></div>
    {% if page.path == 'index.md' %}
    <link rel="stylesheet" href="/css/timeline.css">
    <link rel="stylesheet" href="/css/fonts/font.default.css?v1">
    <script src="js/timeline.js"></script>
    {% endif %}    
    <script type="text/javascript">
    'use strict';

    (function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s);
        js.id = id;
        js.src = "//connect.facebook.net/ko_KR/sdk.js#xfbml=1&version=v2.5&appId=1557871931194431";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));

    var body = document.getElementsByTagName('body');
    var OSName = "";
    if (navigator.appVersion.indexOf("Win") != -1) OSName = "windows";
    if (navigator.appVersion.indexOf("Mac") != -1) OSName = "mac";
    if (navigator.appVersion.indexOf("X11") != -1) OSName = "unix";
    if (navigator.appVersion.indexOf("Linux") != -1) OSName = "linux";

    body[0].setAttribute("class", body[0].getAttribute("class") + " " + OSName);

    if (navigator.userAgent.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i)) {
        body[0].setAttribute("class", body[0].getAttribute("class") + " mobile");
        // body[0].className += ' mobile';
    } else {
        body[0].setAttribute("class", body[0].getAttribute("class") + " device-desktop");
        // body[0].className += ' device-desktop';                
    }
    </script>
    <div id="main-page-frame">
        <div id="phabricator-standard-page" class="phabricator-standard-page">
            <div class="phabricator-main-menu phabricator-main-menu-background">
                <a class="phabricator-main-menu-brand" href="/">
                    <h3>{{ site.title }}</h3>
                </a>
            </div>
            <div id="phabricator-standard-page-body" class="phabricator-standard-page-body">                
                <div class="phui-crumbs-view phui-crumbs-border">
                    {% if page.previous %}
                    <a href="{{ BASE_PATH }}{{ page.previous.url }}" class="phui-crumb-view phui-crumb-has-icon">
                        <span class="visual-only phui-icon-view phui-font-fa fa-star" aria-hidden="true"></span>
                        <span class="phui-crumb-name"> {{ page.previous.title }} </span>
                    </a>
                    {% endif %}
                    <span class="visual-only phui-icon-view phui-font-fa fa-angle-right phui-crumb-divider phui-crumb-view" aria-hidden="true"></span>
                    <span class="phui-crumb-view phabricator-last-crumb">
                    <span class="phui-crumb-name"> {{ page.title }} </span>
                    </span>
                </div>
                <div id="time-line-div"></div>
                {{ content }}
                <div class="phame-blog-description">
                </div>
                <div class="phabricator-standard-page-footer grouped">
                    <p>&copy; {{ site.time | date: '%Y' }} {{ site.author.name }} with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a> and <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>
                    </p>
                    <p>And apply Style <a href="https://secure.phabricator.com/book/phabricator/article/phame/" target="_blank">Phabricator Phame </a></p>
                </div>
            </div>
        </div>
    </div>
    {% include JB/analytics %}
    <!-- Latest compiled and minified JavaScript, requires jQuery 1.x (2.x not supported in IE8) -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="{{ site.url }}/assets/themes/bootstrap-3/bootstrap/js/bootstrap.min.js"></script>
    {% if page.path == 'index.md' %}
    <script>

    $('document').ready(function(){
        $('#time-line-div').css('height', parseFloat(getComputedStyle(document.body).height, 10)/1.5);
        var postListData = [
        {% for post in site.posts %}    
        {
         'start_date':new Date('{{ post.date | date_to_xmlschema }}'),     
         'text':{
            'headline':'{{ post.title }}',
            'text': '<a href="{{post.url}}">{{ post.title }}</a>'
          }     
        },
        {% endfor %}
        ];
        console.log(parseInt(parseFloat(getComputedStyle(document.body).height, 10)/1.5));
        window.timeline = new TL.Timeline('time-line-div', {events:postListData});
        
        // window.addEventListener('resize', function() {
        //     var embed = document.getElementById('time-line-div');
        //     // embed.style.height = (parseFloat(getComputedStyle(document.body).height, 10)/1.5)+'px';
        //     embed.style.height = (document.getElementsByTagName('body')[0].clientHeight/1.5)+'px';
        //     timeline.updateDisplay();
        // });
        console.log($('#time-line-div').css('height'));        
    });

    
    </script>
    {% endif %} 
</body>

</html>
